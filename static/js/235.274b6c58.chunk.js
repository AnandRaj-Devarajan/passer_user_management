"use strict";(self.webpackChunkusers_list=self.webpackChunkusers_list||[]).push([[235],{4662:(e,a,s)=>{s.d(a,{gw:()=>i,hG:()=>n,hU:()=>t,nu:()=>l});const t=()=>async e=>{e({type:"FETCH_USERS_REQUEST"});try{const a=await fetch("https://api.escuelajs.co/api/v1/users");if(!a.ok)throw new Error("Failed to fetch users");e({type:"FETCH_USERS_SUCCESS",payload:await a.json()})}catch(a){e({type:"FETCH_USERS_FAILURE",payload:a.message})}},l=e=>async a=>{try{a({type:"ADD_USER_REQUEST"}),setTimeout((()=>{a({type:"ADD_USER_SUCCESS",payload:e})}),1e3)}catch(s){a({type:"ADD_USER_FAILURE",payload:s.message})}},i=(e,a)=>async s=>{try{s({type:"EDIT_USER_REQUEST"}),setTimeout((()=>{s({type:"EDIT_USER_SUCCESS",payload:{userId:e,userData:a}})}),1e3)}catch(t){s({type:"EDIT_USER_FAILURE",payload:t.message})}},n=e=>async a=>{a({type:"DELETE_USER_REQUEST"});try{a({type:"DELETE_USER_SUCCESS",payload:e})}catch(s){a({type:"DELETE_USER_FAILURE",payload:s.message})}}},2235:(e,a,s)=>{s.r(a),s.d(a,{default:()=>U});var t=s(5043),l=s(3216),i=s(9252),n=s(5865),r=s(3336),d=s(6446),o=s(1906),c=s(35),m=s(6600),u=s(5316),E=s(4600),h=s(8988),S=s(9347),p=s(3003),x=s(4662),y=s(579);const A=e=>{let{id:a,open:s,handleClose:l}=e;const i=(0,p.wA)(),n=(0,p.d4)((e=>e.user.users)),r=(0,p.d4)((e=>e.user.loading)),[d,A]=(0,t.useState)({id:"",name:"",email:"",role:"user"}),[U,j]=(0,t.useState)({name:"",email:""}),_=e=>{A({...d,[e.target.name]:e.target.value}),j({...U,[e.target.name]:""})};(0,t.useEffect)((()=>{A({id:a,name:n[0!==a?a-1:a].name,email:n[0!==a?a-1:a].email,role:(n[0!==a?a-1:a].role,"user")})}),[a]);const C=()=>{let e=!1;d.name||(j((e=>({...e,name:"Name is required"}))),e=!0),d.email?R(d.email)||(j((e=>({...e,email:"Invalid email address"}))),e=!0):(j((e=>({...e,email:"Email is required"}))),e=!0),e||(i((0,x.gw)(d.id,d)),r||l())},R=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e);return(0,y.jsxs)(c.A,{open:s,onClose:l,children:[(0,y.jsx)(m.A,{children:"Edit User"}),(0,y.jsx)(u.A,{children:(0,y.jsxs)("form",{onSubmit:C,children:[(0,y.jsx)(E.A,{label:"Name",name:"name",value:d.name,onChange:_,fullWidth:!0,required:!0,error:Boolean(U.name),helperText:U.name,sx:{mt:2}}),(0,y.jsx)(E.A,{label:"Email",name:"email",type:"email",value:d.email,onChange:_,fullWidth:!0,required:!0,error:Boolean(U.email),helperText:U.email,sx:{mt:2}}),(0,y.jsxs)(E.A,{select:!0,label:"Role",name:"role",value:d.role,onChange:_,fullWidth:!0,required:!0,sx:{mt:2},children:[(0,y.jsx)(h.A,{value:"user",children:"User"}),(0,y.jsx)(h.A,{value:"admin",children:"Admin"})]})]})}),(0,y.jsxs)(S.A,{children:[(0,y.jsx)(o.A,{onClick:l,children:"Cancel"}),(0,y.jsx)(o.A,{variant:"contained",onClick:C,children:"Save"})]})]})},U=()=>{const e=(0,l.g)(),a=(0,l.Zp)(),s=(0,p.d4)((e=>e.user.users)),[c,m]=(0,t.useState)({id:"",name:"",email:"",role:"user"}),[u,E]=(0,t.useState)(!1);(0,t.useEffect)((()=>{if(e.id&&s.length>0){const a=s.find((a=>a.id===Number(e.id)));a&&m(a)}}),[s,e.id]);return(0,y.jsxs)(i.A,{children:[(0,y.jsx)(n.A,{variant:"h4",gutterBottom:!0,textAlign:"center",mt:2,children:"User Details"}),(0,y.jsxs)(r.A,{elevation:6,sx:{mt:2,p:2},children:[(0,y.jsxs)(n.A,{variant:"subtitle1",children:["ID:",c.id," "]}),(0,y.jsxs)(n.A,{variant:"subtitle1",children:["Name: ",c.name]}),(0,y.jsxs)(n.A,{variant:"subtitle1",children:["Email:",c.email," "]}),(0,y.jsxs)(n.A,{variant:"subtitle1",children:["Role: ",c.role]})]}),(0,y.jsxs)(d.A,{sx:{mt:2,display:"flex",justifyContent:"space-between"},children:[(0,y.jsx)(o.A,{variant:"outlined",onClick:()=>{a("/")},children:"Back"}),(0,y.jsx)(o.A,{variant:"contained",onClick:()=>{E(!0)},children:"Edit"})]}),(0,y.jsx)(A,{open:u,handleClose:()=>E(!1),id:null===e||void 0===e?void 0:e.id})]})}}}]);
//# sourceMappingURL=235.274b6c58.chunk.js.map