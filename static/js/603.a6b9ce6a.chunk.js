"use strict";(self.webpackChunkusers_list=self.webpackChunkusers_list||[]).push([[603],{4662:(e,n,t)=>{t.d(n,{gw:()=>a,hG:()=>i,hU:()=>r,nu:()=>o});const r=()=>async e=>{e({type:"FETCH_USERS_REQUEST"});try{const n=await fetch("https://api.escuelajs.co/api/v1/users");if(!n.ok)throw new Error("Failed to fetch users");e({type:"FETCH_USERS_SUCCESS",payload:await n.json()})}catch(n){e({type:"FETCH_USERS_FAILURE",payload:n.message})}},o=e=>async n=>{try{n({type:"ADD_USER_REQUEST"}),setTimeout((()=>{n({type:"ADD_USER_SUCCESS",payload:e})}),1e3)}catch(t){n({type:"ADD_USER_FAILURE",payload:t.message})}},a=(e,n)=>async t=>{try{t({type:"EDIT_USER_REQUEST"}),setTimeout((()=>{t({type:"EDIT_USER_SUCCESS",payload:{userId:e,userData:n}})}),1e3)}catch(r){t({type:"EDIT_USER_FAILURE",payload:r.message})}},i=e=>async n=>{n({type:"DELETE_USER_REQUEST"});try{n({type:"DELETE_USER_SUCCESS",payload:e})}catch(t){n({type:"DELETE_USER_FAILURE",payload:t.message})}}},3603:(e,n,t)=>{t.r(n),t.d(n,{default:()=>X});var r=t(5043),o=t(3216),a=t(5475),i=t(9252),s=t(3336),l=t(5865),c=t(4600),u=t(8988),d=t(6446),m=t(1906),p=t(8587),h=t(8168),f=t(9442),g=t(8606),E=t(7042),v=t(4626),A=t(2144),y=t(579);function S(e){return e.substring(2).toLowerCase()}function x(e){const{children:n,disableReactTree:t=!1,mouseEvent:o="onClick",onClickAway:a,touchEvent:i="onTouchEnd"}=e,s=r.useRef(!1),l=r.useRef(null),c=r.useRef(!1),u=r.useRef(!1);r.useEffect((()=>(setTimeout((()=>{c.current=!0}),0),()=>{c.current=!1})),[]);const d=(0,E.A)(n.ref,l),m=(0,v.A)((e=>{const n=u.current;u.current=!1;const r=(0,A.A)(l.current);if(!c.current||!l.current||"clientX"in e&&function(e,n){return n.documentElement.clientWidth<e.clientX||n.documentElement.clientHeight<e.clientY}(e,r))return;if(s.current)return void(s.current=!1);let o;o=e.composedPath?e.composedPath().indexOf(l.current)>-1:!r.documentElement.contains(e.target)||l.current.contains(e.target),o||!t&&n||a(e)})),p=e=>t=>{u.current=!0;const r=n.props[e];r&&r(t)},h={ref:d};return!1!==i&&(h[i]=p(i)),r.useEffect((()=>{if(!1!==i){const e=S(i),n=(0,A.A)(l.current),t=()=>{s.current=!0};return n.addEventListener(e,m),n.addEventListener("touchmove",t),()=>{n.removeEventListener(e,m),n.removeEventListener("touchmove",t)}}}),[m,i]),!1!==o&&(h[o]=p(o)),r.useEffect((()=>{if(!1!==o){const e=S(o),n=(0,A.A)(l.current);return n.addEventListener(e,m),()=>{n.removeEventListener(e,m)}}}),[m,o]),(0,y.jsx)(r.Fragment,{children:r.cloneElement(n,h)})}var C=t(1140),w=t(9279);var b=t(4535),R=t(6240),k=t(2876),L=t(6803),T=t(6328),U=t(8387),j=t(7266),D=t(7056),_=t(2400);function O(e){return(0,_.Ay)("MuiSnackbarContent",e)}(0,D.A)("MuiSnackbarContent",["root","message","action"]);const M=["action","className","message","role"],I=(0,b.Ay)(s.A,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,n)=>n.root})((e=>{let{theme:n}=e;const t="light"===n.palette.mode?.8:.98,r=(0,j.tL)(n.palette.background.default,t);return(0,h.A)({},n.typography.body2,{color:n.vars?n.vars.palette.SnackbarContent.color:n.palette.getContrastText(r),backgroundColor:n.vars?n.vars.palette.SnackbarContent.bg:r,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(n.vars||n).shape.borderRadius,flexGrow:1,[n.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})})),P=(0,b.Ay)("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,n)=>n.message})({padding:"8px 0"}),B=(0,b.Ay)("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,n)=>n.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),F=r.forwardRef((function(e,n){const t=(0,k.A)({props:e,name:"MuiSnackbarContent"}),{action:r,className:o,message:a,role:i="alert"}=t,s=(0,p.A)(t,M),l=t,c=(e=>{const{classes:n}=e;return(0,g.A)({root:["root"],action:["action"],message:["message"]},O,n)})(l);return(0,y.jsxs)(I,(0,h.A)({role:i,square:!0,elevation:6,className:(0,U.A)(c.root,o),ownerState:l,ref:n},s,{children:[(0,y.jsx)(P,{className:c.message,ownerState:l,children:a}),r?(0,y.jsx)(B,{className:c.action,ownerState:l,children:r}):null]}))}));function z(e){return(0,_.Ay)("MuiSnackbar",e)}(0,D.A)("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const N=["onEnter","onExited"],H=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],W=(0,b.Ay)("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,n["anchorOrigin".concat((0,L.A)(t.anchorOrigin.vertical)).concat((0,L.A)(t.anchorOrigin.horizontal))]]}})((e=>{let{theme:n,ownerState:t}=e;return(0,h.A)({zIndex:(n.vars||n).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},"top"===t.anchorOrigin.vertical?{top:8}:{bottom:8},"left"===t.anchorOrigin.horizontal&&{justifyContent:"flex-start"},"right"===t.anchorOrigin.horizontal&&{justifyContent:"flex-end"},{[n.breakpoints.up("sm")]:(0,h.A)({},"top"===t.anchorOrigin.vertical?{top:24}:{bottom:24},"center"===t.anchorOrigin.horizontal&&{left:"50%",right:"auto",transform:"translateX(-50%)"},"left"===t.anchorOrigin.horizontal&&{left:24,right:"auto"},"right"===t.anchorOrigin.horizontal&&{right:24,left:"auto"})})})),q=r.forwardRef((function(e,n){const t=(0,k.A)({props:e,name:"MuiSnackbar"}),o=(0,R.A)(),a={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{action:i,anchorOrigin:{vertical:s,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:c=null,children:u,className:d,ClickAwayListenerProps:m,ContentProps:E,disableWindowBlurListener:A=!1,message:S,open:b,TransitionComponent:U=T.A,transitionDuration:j=a,TransitionProps:{onEnter:D,onExited:_}={}}=t,O=(0,p.A)(t.TransitionProps,N),M=(0,p.A)(t,H),I=(0,h.A)({},t,{anchorOrigin:{vertical:s,horizontal:l},autoHideDuration:c,disableWindowBlurListener:A,TransitionComponent:U,transitionDuration:j}),P=(e=>{const{classes:n,anchorOrigin:t}=e,r={root:["root","anchorOrigin".concat((0,L.A)(t.vertical)).concat((0,L.A)(t.horizontal))]};return(0,g.A)(r,z,n)})(I),{getRootProps:B,onClickAway:q}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoHideDuration:n=null,disableWindowBlurListener:t=!1,onClose:o,open:a,resumeHideDuration:i}=e,s=(0,C.A)();r.useEffect((()=>{if(a)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){e.defaultPrevented||"Escape"!==e.key&&"Esc"!==e.key||null==o||o(e,"escapeKeyDown")}}),[a,o]);const l=(0,v.A)(((e,n)=>{null==o||o(e,n)})),c=(0,v.A)((e=>{o&&null!=e&&s.start(e,(()=>{l(null,"timeout")}))}));r.useEffect((()=>(a&&c(n),s.clear)),[a,n,c,s]);const u=s.clear,d=r.useCallback((()=>{null!=n&&c(null!=i?i:.5*n)}),[n,i,c]),m=e=>n=>{const t=e.onFocus;null==t||t(n),u()},p=e=>n=>{const t=e.onMouseEnter;null==t||t(n),u()},f=e=>n=>{const t=e.onMouseLeave;null==t||t(n),d()};return r.useEffect((()=>{if(!t&&a)return window.addEventListener("focus",d),window.addEventListener("blur",u),()=>{window.removeEventListener("focus",d),window.removeEventListener("blur",u)}}),[t,a,d,u]),{getRootProps:function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,h.A)({},(0,w.h)(e),(0,w.h)(n));return(0,h.A)({role:"presentation"},n,t,{onBlur:(r=t,e=>{const n=r.onBlur;null==n||n(e),d()}),onFocus:m(t),onMouseEnter:p(t),onMouseLeave:f(t)});var r},onClickAway:e=>{null==o||o(e,"clickaway")}}}((0,h.A)({},I)),[Q,G]=r.useState(!0),X=(0,f.Q)({elementType:W,getSlotProps:B,externalForwardedProps:M,ownerState:I,additionalProps:{ref:n},className:[P.root,d]});return!b&&Q?null:(0,y.jsx)(x,(0,h.A)({onClickAway:q},m,{children:(0,y.jsx)(W,(0,h.A)({},X,{children:(0,y.jsx)(U,(0,h.A)({appear:!0,in:b,timeout:j,direction:"top"===s?"down":"up",onEnter:(e,n)=>{G(!1),D&&D(e,n)},onExited:e=>{G(!0),_&&_(e)}},O,{children:u||(0,y.jsx)(F,(0,h.A)({message:S,action:i},E))}))}))}))}));var Q=t(3003),G=t(4662);const X=()=>{const e=(0,o.Zp)(),n=(0,Q.wA)(),t=(0,Q.d4)((e=>e.user.users)),[p,h]=(0,r.useState)(!1),[f,g]=(0,r.useState)({name:"",email:"",role:"user"}),[E,v]=(0,r.useState)({name:"",email:""}),A=e=>{g({...f,[e.target.name]:e.target.value}),v({...E,[e.target.name]:""})},S=r=>{r.preventDefault();let o=!1;if(f.name||(v((e=>({...e,name:"Name is required"}))),o=!0),f.email?x(f.email)||(v((e=>({...e,email:"Invalid email address"}))),o=!0):(v((e=>({...e,email:"Email is required"}))),o=!0),!o){const r={avatar:"",creationAt:"",email:f.email,id:t.length+1,name:f.name,password:"",role:f.role,updatedAt:""};n((0,G.nu)(r)),h(!0),setTimeout((()=>{e("/")}),2e3)}},x=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e);return(0,y.jsxs)(i.A,{sx:{p:2,display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,y.jsxs)(s.A,{elevation:3,sx:{padding:"20px",width:"50%"},children:[(0,y.jsx)(l.A,{variant:"h5",align:"center",children:"Add New User"}),(0,y.jsxs)("form",{onSubmit:S,children:[(0,y.jsx)(c.A,{label:"Name",name:"name",value:f.name,onChange:A,fullWidth:!0,required:!0,error:Boolean(E.name),helperText:E.name,sx:{mt:2}}),(0,y.jsx)(c.A,{label:"Email",name:"email",type:"email",value:f.email,onChange:A,fullWidth:!0,required:!0,error:Boolean(E.email),helperText:E.email,sx:{mt:2}}),(0,y.jsxs)(c.A,{select:!0,label:"Role",name:"role",value:f.role,onChange:A,fullWidth:!0,required:!0,sx:{mt:2},children:[(0,y.jsx)(u.A,{value:"user",children:"User"}),(0,y.jsx)(u.A,{value:"admin",children:"Admin"})]})]}),(0,y.jsxs)(d.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",mb:2,mt:2},children:[(0,y.jsx)(m.A,{component:a.N_,to:"/",variant:"outlined",children:"Back"}),(0,y.jsx)(m.A,{variant:"contained",color:"primary",onClick:S,children:"Save"})]})]}),(0,y.jsx)(q,{open:p,autoHideDuration:2e3,onClose:()=>{h(!1)},message:"User added successfully"})]})}}}]);
//# sourceMappingURL=603.a6b9ce6a.chunk.js.map